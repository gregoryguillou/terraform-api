docker:
  socketPath: '/var/run/docker.sock'
jwt:
  secretOrKey: secret
pool:
  type: docker
projects:
  - type: terraform
    name: demonstration
    description: A demonstration project that relies on Terraform/Consul
    docker-image: "lineup-terraform:alpha1"
    git:
      repository: github.com/gregoryguillou/lineup.git
      branch: master
      username: gregoryguillou
      password: "1234567880"
      directory: /demo/terraform/starter
    workspaces:
      - staging
      - qa
      - test
      - development
    lifecycle:
      before-start:
        - echo "Ready to kick-off a creation container..."
      pre-start:
        - echo "Ready to begin..."
      on-success:
        - echo "The environment was successful"
      on-failure:
        - echo "You've screwed up!"
      post-finish:
        - echo "Ready to begin..."
      status:
        - ./status.sh -w {{lineup.WORKSPACE}}
    # Define the environment variables that should be used when running the project
    # management commands (i.e. apply, destroy, list and check)
    setenv:
      - CONSUL_IP={{env.CONSUL_IP}}
      - AWS_PROFILE={{env.DEMONSTRATION__AWS_PROFILE}}
users:
  - username: 'gregory'
    apikey: 'bm9wcXJzdHV2d3h5ego='
    role: administrator
  - username: 'kilian'
    apikey: 'YWJjZGVmZ2hpamtsbQo='
    role: user
